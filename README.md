# auth-proxy-stub

リバースプロキシ型認証サーバのスタブ  
`/login`にアクセスするとログインページが表示され、適当なユーザIDを入力し、ログインするとバックエンドサーバにプロキシします。  
プロキシしたリクエストのヘッダにログインページで入力したユーザIDを埋め込みます。

## 必要環境

- Node.js v14

## 使い方

1. 依存ライブラリのインストール
    ```
    npm i
    ```

2. 実行
    ```
    npm run start
    ```

## 環境変数

|変数名|値|デフォルト|
|---|---|---|
|HEADER_KEY_NAME|プロキシしたリクエストのヘッダに設定するユーザIDのキー名|`X-USER-ID`|
|PORT|このスタブ認証サーバのポート|`5000`|
|PROXY_HOST|プロキシ先のホスト|`http://localhost:8080/`|
|PROXY_BASE_URL|このスタブ認証サーバがプロキシするホストURL(?)|`/proxy`|
